<html>
    <head></head>
    <body>
        <input type="button" onclick="clearInterval(intervalId);" value="Stop Reporting"/>
        <script>

        let queue = []; //cars to park
        let parked = []; //parked cars
        let departed = []; //cars that left

        let id = 1; //car id

        for(let i = 0;i<100;i++) {
            queue.push(getCar());
        }

        for(let i = 0;i<10;i++) {
            let car = queue.pop();
            parked.push(car);

            setTimeout(leaving, getRandomNum(5000,10000), car.id);
        }

        function getCar() {
            let car = {id: id, name: `Car ${id}`};
            id++;
            return car;
        }

        function leaving(id) {
            let carPosition = parked.map(function(x) {return parseInt(x.id); }).indexOf(parseInt(id));
            let car = parked.splice(carPosition, 1)[0];
            departed.push(car);
        }

        function getRandomNum(min, max) {
            min = Math.ceil(min);
            max = Math.floor(max);
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        let intervalId = setInterval(function() {
            console.clear();
            console.log(`Queued: ${queue.length}`);
            console.log(`Parked: ${parked.length}`);
            console.log(`Departed: ${departed.length}`);
            console.log(queue);
            console.log(parked);
            console.log(departed);
        }, 250);
        </script>
    </body>
</html>